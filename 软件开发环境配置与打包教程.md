<h1 align="center">Video Editing Toolkit</h1>
<p align="center">

<h1 align="center">软件开发环境配置与打包教程</h1>
<p align="center">
  一个基于 Python 和 PySide6 构建的桌面视频处理工具箱，集成了 FFmpeg 和 OpenAI-Whisper，旨在为视频创作者提供一系列简单、高效的自动化处理功能。
</p>
<p align="center">
  A desktop video processing toolkit built with Python and PySide6, integrating FFmpeg and OpenAI-Whisper. It aims to provide video creators with a suite of simple and efficient automated processing tools.
</p>

# 1. 搭建便携Python环境

1.  **下载Python**: 前往 [Python官网](https://www.python.org/downloads/windows/)，下载 Python 3.9.x 的 **"Windows embeddable package (64-bit)"** (zip压缩包)。
2.  **解压与放置**: 解压后，将文件夹重命名为 `python_portable`，并移动到本项目根目录下。
3.  **启用第三方库支持**:
    -   进入 `python_portable` 文件夹，找到 `python39._pth` 文件。
    -   用记事本打开它，找到最后一行 `#import site`，将前面的 `#` 号和空格删掉，变成 `import site`，然后保存。
4.  **安装pip**:
    -   用浏览器打开 [https://bootstrap.pypa.io/get-pip.py](https://bootstrap.pypa.io/get-pip.py)，右键另存为，将 `get-pip.py` 文件保存到 `python_portable` 文件夹内。
    -   在项目根目录打开命令行(CMD)，运行：
      ```bash
      .\python_portable\python.exe .\python_portable\get-pip.py
      ```
1.  本项目需要 `ffmpeg.exe` 和 `ffprobe.exe` 两个核心文件。推荐从 [BtbN/FFmpeg-Builds](https://github.com/BtbN/FFmpeg-Builds/releases) 下载预编译好的版本。
2.  在下载页面，找到最新的 `ffmpeg-master-latest-win64-gpl.zip` 或类似名称的文件并下载。
3.  解压后，进入 `bin` 文件夹。
4.  将 `ffmpeg.exe` 和 `ffprobe.exe` 这两个文件复制出来。
5.  在本项目根目录下新建一个 `dependencies` 文件夹，将它们粘贴到文件夹里。
# 2. 安装依赖库 (便携式)
## 2.1. cpu版本（whisper无GPU加速）
在项目根目录的命令行中，继续执行：
```bash
#清空pip缓存
.\python_portable\python.exe -m pip cache purge
# 安装核心依赖
.\python_portable\python.exe -m pip install pyside6 openai-whisper opencc-python-reimplemented pyinstaller -i https://pypi.tuna.tsinghua.edu.cn/simple
#或者
.\python_portable\python.exe -m pip install -r requirements.txt --no-cache-dir -i https://pypi.tuna.tsinghua.edu.cn/simple
```
## 2.2. 完整版（whisper有GPU加速）
在项目根目录的命令行中，继续执行：
```bash
#清空pip缓存
.\python_portable\python.exe -m pip cache purge
# 安装核心依赖
.\python_portable\python.exe -m pip install pyside6 openai-whisper opencc-python-reimplemented pyinstaller -i https://pypi.tuna.tsinghua.edu.cn/simple
# 安装PyTorch以启用GPU加速 (以CUDA 11.8为例)
.\python_portable\python.exe -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```
# 3. 配置 FFmpeg 

本项目依赖 `ffmpeg.exe` 和 `ffprobe.exe` 来处理所有音视频任务。请选择以下任一方式进行配置：
1.  **下载**: 前往 [**BtbN/FFmpeg-Builds**](https://github.com/BtbN/FFmpeg-Builds/releases) 下载预编译好的版本。
2.  **选择文件**: 在下载页面，找到最新的 `ffmpeg-master-latest-win64-gpl.zip` 或类似名称的文件并下载。
3.  **解压**: 解压下载的 `zip` 文件后，进入 `bin` 文件夹。
4.  **放置**: 将 `ffmpeg.exe` 和 `ffprobe.exe` 这两个文件复制出来，粘贴到**本项目根目录下**一个**新建**的 `dependencies` 文件夹中。

# 4.打包程序
```bash
#生成.spec文件样本
.\python_portable\python.exe -m PyInstaller main.py
#根据自己的需求对.spec文件做修改，修改之后就可以打包（本项目最终修改完的`.spec`文件也已上传）
.\python_portable\python.exe -m PyInstaller VideoEditingToolkit-v1.1.1.spec
```